{{ if .Site.Params.widgets.tags }}
{{ if isset .Site.Taxonomies "tags" }}
{{ if not (eq (len .Site.Taxonomies.tags) 0) }}
{{ $lang := .Page.Lang }}

<h3>{{ i18n "categoriesTitle" }}</h3>

<div class="tags-container">
    <ul class="tags">
        {{ $posts := where .Site.Pages "Type" "post" }}
        {{ range $name, $items := .Site.Taxonomies.tags }}
        {{ $target := "tags/" }}
        {{ if eq $lang "en" }}
          <li class="tag"><a href="{{ $.Site.BaseURL }}{{ $lang }}/apps/tags/{{ $name | urlize | lower }}">{{ $name }} ({{ len $items }})</a></li>
        {{ else }}
          <li class="tag"><a href="{{ $.Site.BaseURL }}/apps/tags/{{ $name | urlize | lower }}">{{ $name }} ({{ len $items }})</a></li>
        {{ end }}
        {{ end }}
    </ul>
</div>
{{ end }}
{{ end }}
{{ end }}
